<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html">
 
    <h:head>
        <title>Welcome to APG Web Shop</title>
    </h:head>
    <h:body>
    	<h3>Welcome </h3>
    	<h:form style="float:right !important;margin:0px 0px 3px 0px;">
    	   #{login.getUsername()}  <h:commandLink value="Log out" action="#{login.logout}" />
    	    &nbsp;  <h:commandLink value="Check out" rendering="!#{login.basket.isEmpty}" action="#{login.checkout}" />
    	</h:form>
    	<h:form>
    	   <h:selectOneMenu value="#{login.item_cat}">
			   	<f:selectItem itemValue="photo" itemLabel="Photo" />
			   	<f:selectItem itemValue="personal" itemLabel="Personal" />
			   	<f:selectItem itemValue="computer" itemLabel="Computer" />
			</h:selectOneMenu>
			<h:commandButton value="List" action="welcome"></h:commandButton>
		</h:form>
		<h:form id="item_list">	  	
		Enter the amount to buy: <h:inputText value="#{login.buyingAmount}"></h:inputText>  
    	<h:dataTable value="#{login.items}" var="items" binding="#{login.dataTableItems}">
    		<h:column>
				<f:facet name="header" >
					<h:outputText value="Item Category"/>
				</f:facet>
				<h:outputText value="#{items.category}"/>
			</h:column>
    		<h:column>
				<f:facet name="header" >
					<h:outputText value="Item Name"/>
				</f:facet>
				<h:outputText value="#{items.name}"/>
			</h:column>
			    		<h:column>
				<f:facet name="header" >
					<h:outputText value="Item Price"/>
				</f:facet>
				<h:outputText value="#{items.price}"/>
			</h:column>
			    		<h:column>
				<f:facet name="header" >
					<h:outputText value="Available Amount"/>
				</f:facet>
				<h:outputText value="#{items.amount}"/>
			</h:column>
			<h:column>
               <f:facet name="header">
                   <h:outputText value="Buy"/>
               </f:facet>
               <h:commandButton value="Add" action="#{login.addToBasket}"></h:commandButton>            
           </h:column>

    	</h:dataTable>
    	</h:form>
    </h:body>
</html>